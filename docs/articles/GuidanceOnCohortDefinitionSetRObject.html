<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guidance on Cohort Definition Set R Object • PhenotypeLibrary</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Guidance on Cohort Definition Set R Object">
<meta property="og:description" content="PhenotypeLibrary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PhenotypeLibrary</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.26.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CohortDefinitionsInOhdsiPhenotypeLibrary.html">Cohort Definitions in OHDSI Phenotype Library</a>
    </li>
    <li>
      <a href="../articles/CohortDefinitionSubmissionRequirements.html">Cohort Definition Submission Requirements</a>
    </li>
    <li>
      <a href="../articles/ConceptSetDefinitionsInOhdsiPhenotypeLibrary.html">Concept Set Definitions in OHDSI Phenotype Library</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnClinicalDescriptionForConditionPhenotypes.html">Guidance on writing clinical description for Condition Phenotypes</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnCohortDefinitionSetRObject.html">Guidance on Cohort Definition Set R Object</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnLiteratureReview.html">Guidance on literature review</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnPerformingPeerReview.html">Guidance on performing peer review</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnWritingAnEvaluationReport.html">Guidance on writing an evaluation report</a>
    </li>
    <li>
      <a href="../articles/GuidanceOnWritingCohortDefinitionLogicDescription.html">Guidance on writing Cohort Definition Logic Description</a>
    </li>
    <li>
      <a href="../articles/HowToUsePhenotypeLibraryRPackage.html">How to Use PhenotypeLibrary R Package</a>
    </li>
    <li>
      <a href="../articles/ReservedWordsWithSpecialMeaningToPhenotypers.html">Reserved Words With Special Meaning To Phenotypers</a>
    </li>
    <li>
      <a href="../articles/SubmittedCohortDefinitions.html">Submitted Cohort Definitions</a>
    </li>
    <li>
      <a href="../articles/ValidityChecksForCohortDefinitions.html">Validity checks for Cohort Definitions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/PhenotypeLibrary/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Guidance on Cohort Definition Set R Object</h1>
                        <h4 data-toc-skip class="author">Gowtham A.
Rao</h4>
            
            <h4 data-toc-skip class="date">2023-10-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/PhenotypeLibrary/blob/HEAD/vignettes/GuidanceOnCohortDefinitionSetRObject.Rmd" class="external-link"><code>vignettes/GuidanceOnCohortDefinitionSetRObject.Rmd</code></a></small>
      <div class="hidden name"><code>GuidanceOnCohortDefinitionSetRObject.Rmd</code></div>

    </div>

    
    
<p><em>This document is a DRAFT guidance.</em></p>
<div class="section level2">
<h2 id="how-to-create-a-cohort-definition-set-object">How to Create a Cohort Definition Set Object<a class="anchor" aria-label="anchor" href="#how-to-create-a-cohort-definition-set-object"></a>
</h2>
<div class="section level3">
<h3 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h3>
<div class="section level4">
<h4 id="downloading-cohorts-from-atlas">Downloading Cohorts from ATLAS<a class="anchor" aria-label="anchor" href="#downloading-cohorts-from-atlas"></a>
</h4>
<p>You can create cohorts using <a href="https://github.com/OHDSI/Atlas" class="external-link">ATLAS</a> and extract them using
the <a href="https://github.com/OHDSI/ROhdsiWebApi" class="external-link">ROhdsiWebApi</a>
package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cohortIds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1778211</span>, <span class="fl">1778212</span>, <span class="fl">1778213</span><span class="op">)</span></span>
<span><span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="https://ohdsi.github.io/ROhdsiWebApi/reference/authorizeWebApi.html" class="external-link">authorizeWebApi</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span>, authMethod <span class="op">=</span> <span class="st">"windows"</span><span class="op">)</span></span>
<span><span class="va">cohortDefinitionSet</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="https://ohdsi.github.io/ROhdsiWebApi/reference/exportCohortDefinitionSet.html" class="external-link">exportCohortDefinitionSet</a></span><span class="op">(</span></span>
<span>  baseUrl <span class="op">=</span> <span class="va">baseUrl</span>,</span>
<span>  cohortIds <span class="op">=</span> <span class="va">cohortIds</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The code connects to ATLAS’ WebAPI, retrieves the
<code>cohortDefinitions</code>, and returns a data.frame object with the
required fields. The following columns are considered mandatory for
OHDSI submission: - <strong>cohortId</strong>: The cohortId will be the
same as the atlasId upon export from ATLAS. This column is provided in
case you’d like to alter the numbering scheme for your cohort definition
set. - <strong>cohortName</strong>: The name of the cohort in ATLAS. -
<strong>json</strong>: The <a href="https://github.com/OHDSI/circe-be" class="external-link">Circe</a> compliant JSON
representation of the cohort definition.</p>
<p>When the cohort JSON is submitted, the PhenotypeLibrary will create
the SQL using Circe. The submitted SQL will only be used when the cohort
definitions do not conform to the circe/atlas cohort definition
standard.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gowtham Rao.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
